<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<!-- STYLE FOR SMS OR PHONE CALL OPTION -->
    <style>
 
    body {
      font-family: Arial, sans-serif;
      padding: 50px;
    }

    .phone-container {
      position: relative;
      display: inline-block;
      cursor: pointer;
      color: #007bff;
      font-weight: bold;
    }

    .hover-options {
      position: absolute;
      top: 10px;
      left: 0;
      margin-top: 8px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      display: none;
      min-width: 120px;
      z-index: 10;
    }

    .hover-options a {
      display: block;
      padding: 8px 12px;
      text-decoration: none;
      color: #333;
      transition: background 0.2s ease;
    }

    .hover-options a:hover {
      background-color: #f5f5f5;
    }

    .phone-container:hover .hover-options {
      display: block;
    }
  </style>
<!-- STYLE FOR SMS OR PHONE CALL OPTION -->



</head>
<body>

    <!-- FOR THE MAPS TO OPEN NATIVE MAP APP DEPENDING ON THE DEVICE THE VISITOR IS USING -->
    <button id="openMapBtn">Open in Maps</button>

    <!--  LEGACY  -->
<!-- <script>
  function openMap(lat, lng) {
    const isAppleDevice = /iPhone|iPad|iPod|Macintosh/.test(navigator.userAgent);
    const coords = `${lat},${lng}`;

    const mapURL = isAppleDevice
      ? `maps:/?ll=${coords}`
      : `https://www.google.com/maps/search/?api=1&query=${coords}`;

    window.open(mapURL, '_blank');
  }

  document.getElementById('openMapBtn').addEventListener('click', function () {
    const lat = 37.38237357525533;
    const lng = -121.89517981964153;
    openMap(lat, lng);
  });
</script> -->


<!-- NEW SCRIPT -->

<script>
  function openMap(lat, lng) {
    const isAppleDevice = /iPhone|iPad|iPod|Macintosh/.test(navigator.userAgent);
    const coords = `${lat},${lng}`;

    if (isAppleDevice) {
      const appMapURL = `maps:/?ll=${coords}`;
      const webFallbackURL = `https://maps.apple.com/?ll=${coords}`;

      // Create an invisible iframe to attempt to open Apple Maps app
      const iframe = document.createElement('iframe');
      iframe.style.display = 'none';
      iframe.src = appMapURL;
      document.body.appendChild(iframe);

      const fallbackTimeout = setTimeout(() => {
        window.open(webFallbackURL, '_blank');
        document.body.removeChild(iframe);
      }, 1500); // Wait 1.5 seconds

      // Optional: Clear timeout if user leaves the page (i.e., app opened)
      window.addEventListener('blur', () => {
        clearTimeout(fallbackTimeout);
        document.body.removeChild(iframe);
      }, { once: true });

    } else {
      // For non-Apple devices, open Google Maps
      const mapURL = `https://www.google.com/maps/search/?api=1&query=${coords}`;
      window.open(mapURL, '_blank');
    }
  }

  document.getElementById('openMapBtn').addEventListener('click', function () {
    const lat = 37.38237357525533;
    const lng = -121.89517981964153;
    openMap(lat, lng);
  });
</script>

<!-- NEW SCRIPT -->


<!-- FOR THE MAPS TO OPEN NATIVE MAP APP DEPENDING ON THE DEVICE THE VISITOR IS USING -->


<!-- FOR THE SMS OR PHONE CALL OPTION WHEN PHONE NUMBER IS PRESSED -->


<div class="phone-container">
    +1 (555) 123-4567
    <div class="hover-options">
      <a href="sms:+15551234567">ðŸ“© Send SMS</a>
      <a href="tel:+15551234567">ðŸ“ž Call</a>
    </div>
  </div>

<!-- FOR THE SMS OR PHONE CALL OPTION WHEN PHONE NUMBER IS PRESSED -->



</body>
</html>
